---
layout: post
title: Reversi (Othello) Game
categories:
- Game
- Java
tags:
- board game
- game
- othello
- reversi
status: publish
type: post
published: true
---
<p>Reversi (Othello) is a board game (board size of 8x8) played by two players. Each player tries to turn the other's pieces to his/her own pieces. In the end the player which has more pieces on the board is the winner. You can find the detail rules on <a href="http://en.wikipedia.org/wiki/Reversi/Othello">Wikipedia</a>.</p>
<p>The strategy I implemented for this game is based on <a href="http://www.site-constructor.com/othello/Present/Basic_Strategy.html">this website</a>.<!--more-->It is quite simple as I assign a specific value for all positions of the board as the image below:<img class="aligncenter size-full wp-image-543" alt="Reversi Board Location Value" src="http://luugiathuy.com/wp-content/uploads/2011/03/board6.gif" width="100" height="100" /></p>
<p>Here is the game you can play with the computer =D. It's quite hard to beat it.</p>
<p><script type="text/javascript" src="http://www.java.com/js/deployJava.js"></script><script type="text/javascript">// <![CDATA[<br />
var attributes = {code:'com.luugiathuy.games.reversi.ReversiApplet.class',width:560, height:500};var parameters = {jnlp_href:'http://luugiathuy.com/projects/games/reversi/Reversi.jnlp'};var version = '1.6';deployJava.runApplet(attributes, parameters, version);<br />
// ]]></script></p>
<noscript>This page requires JavaScript.</noscript>
<p><!-- Start SiteCatalyst code   --><script type="text/javascript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js" language="JavaScript"></script><script type="text/javascript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js" language="JavaScript"></script><!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** --><!--  Below code will send the info to Omniture server --><script type="text/javascript" language="javascript">// <![CDATA[<br />
var s_code = s.t();if (s_code) document.write(s_code)<br />
// ]]></script><!-- End SiteCatalyst code --></p>
<p>For searching the optimal move, I have used <a href="http://en.wikipedia.org/wiki/Negascout">Negascout</a> algorithm. This can be faster than alpha-beta prunning algorithm.</p>
<pre lang="java">public MoveScore abNegascout(char[][] board, int ply, int alpha, int beta, char piece){
	char oppPiece = (piece == Reversi.sBLACK_PIECE) ? Reversi.sWHITE_PIECE : Reversi.sBLACK_PIECE;

	// Check if we have done recursing
	if (ply==mMaxPly){
        return new MoveScore(null, Evaluation.evaluateBoard(board, piece, oppPiece));
    }

	int currentScore;
	int bestScore = -INFINITY;
	MoveCoord bestMove = null;
	int adaptiveBeta = beta; 	// Keep track the test window value

	// Generates all possible moves
	ArrayList&lt;MoveCoord&gt; moveList = Evaluation.genPriorityMoves(board, piece);
	if (moveList.isEmpty())
		return new MoveScore(null, bestScore);
	bestMove = moveList.get(0);

	// Go through each move
	for(int i=0;i&lt;movelist.size();++i){ movecoord="" move="moveList.get(i);" char[][]="" newboard="new" char[8][8];="" for="" (int="" r="0;" r&lt;8;="" ++r)="" c="0;" c&lt;8;="" ++c)="" newboard[r][c]="board[r][c];" reversi.effectmove(newboard,="" piece,="" move.getrow(),="" move.getcol());="" recursive="" movescore="" current="abNegascout(newBoard," ply+1,="" -adaptivebeta,="" -="" math.max(alpha,bestscore),="" opppiece);="" currentscore="-" current.getscore();="" update="" bestscore="" if="" (currentscore=""&gt; bestScore){
			// if in 'narrow-mode' then widen and do a regular AB negamax search
			if (adaptiveBeta == beta || ply&gt;=(mMaxPly-2)){
				bestScore = currentScore;
				bestMove = move;
			}else{ // otherwise, we can do a Test
				current = abNegascout(newBoard, ply+1, -beta, -currentScore, oppPiece);
				bestScore = - current.getScore();
				bestMove = move;
			}

			// If we are outside the bounds, the prune: exit immediately
    		if(bestScore&gt;=beta){
    			return new MoveScore(bestMove,bestScore);
    		}

    		// Otherwise, update the window location
    		adaptiveBeta = Math.max(alpha, bestScore) + 1;
		}
	}
	return new MoveScore(bestMove,bestScore);
}</pre>
<p>You can download the source code of the game at <a href="https://github.com/luugiathuy/ReversiGame">https://github.com/luugiathuy/ReversiGame</a>. Hope you enjoy it! =D</p>
