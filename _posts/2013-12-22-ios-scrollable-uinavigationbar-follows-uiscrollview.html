---
layout: post
title: iOS scrollable UINavigationBar follows UIScrollView
categories:
- iOS
tags:
- ios
- scroll
- uinavigationbar
- uiscrollview
status: publish
type: post
published: true
---
<p>Inspired by the navigation bar functionality seen in Chrome, Facebook and Instagram iOS apps which it can shrink or expand based on the scrolling of a UIScrollView object such as UITableView, I have coded a custom navigation bar, called GTScrollNavigationBar at <a href="https://github.com/luugiathuy/GTScrollNavigationBar" target="_blank">https://github.com/luugiathuy/GTScrollNavigationBar</a>.</p>
<p>Screenshots:</p>
<p><a href="http://luugiathuy.com/wp-content/uploads/2013/12/GTScrollNavigationBar1.png"><img class="alignnone size-full wp-image-517" alt="GTScrollNavigationBar1" src="http://luugiathuy.com/wp-content/uploads/2013/12/GTScrollNavigationBar1.png" width="320" height="568" />Â <img class="alignnone size-full wp-image-518" alt="GTScrollNavigationBar2" src="http://luugiathuy.com/wp-content/uploads/2013/12/GTScrollNavigationBar2.png" width="320" height="568" /></a></p>
<p><!--more--><br />
The GTScrollNavigationBar class inherits UINavigationBar and has a scrollView property which the GTScrollNavigationBar object will follow the scrolling. When setting the scrollView property, GTScrollNavigationBar will add a UIPanGestureRecognizer to the scrollView and have a function called <code>handlePan:</code> to handle the gesture.</p>
<p>In <code>setScrollView:</code> function:</p>
<pre lang="objc">if (self.panGesture.view) {
    [self.panGesture.view removeGestureRecognizer:self.panGesture];
}
[scrollView addGestureRecognizer:self.panGesture];</pre>
<p>Then in the <code>handlePan:</code> function, the GTScrollNavigationBar is scrolled up or down by adjusting its <code>frame.origin.y</code> based on the change in <code>contentOffset</code> property of the scrollview. The reason why I choose this instead of the translation of the panGesture is that we want the scrolling of the navigation bar is aligned with UIScrollView's one. Besides it can check whether <code>contentOffset.y &lt; 0</code> so that the the navigation bar won't be scrolled.</p>
<p>The title, back button and other views in navigation bar is also faded in/out when the navigation bar is scrolled. It is done by adjusting their <code>alpha</code> property based on the position of the navigation bar.</p>
<p>That's it :) You can read the README file at <a href="https://github.com/luugiathuy/GTScrollNavigationBar" target="_blank">https://github.com/luugiathuy/GTScrollNavigationBar</a> to set up the GTScrollNavigationBar in your project or view the example in the project.</p>
